window.addEventListener("DOMContentLoaded",()=>{"use strict";const t=document.querySelector(".btn__add"),e=document.querySelector(".btn__show-sum"),a=document.querySelector(".salary");function o(t,e){const o=document.createElement("div");o.innerHTML=`\n      <div class="salary__row">\n        <data class="salary__col salary__date">${e}</data>\n        <p class="salary__col salary__sum">${t}</p>\n        <div class="salary__col salary__col_sm">\n        <button class="btn-delete-salary"><span class="icon-trash-alt-solid"></span></button>\n        </div>\n      </div>\n    `,a.append(o)}function s(){if(localStorage.length){const t=[];document.querySelectorAll(".salary__sum").forEach(e=>t.push(+e.textContent)),document.querySelector(".salary-total").textContent="Итого: "+t.reduce((t,e)=>t+e)}}function n(){const t=document.querySelectorAll(".salary__row_choosed .salary__sum");let e=0;return t.forEach(t=>{e+=parseInt(t.innerHTML,10)}),e}function r(t){t?e.classList.remove("btn__show-sum_disabled"):e.classList.add("btn__show-sum_disabled")}!function(){const t=function(){let t={},e=Object.keys(localStorage).sort(),a=e.length;for(;a--;)t[e[a]]=localStorage.getItem(e[a]);return t}();for(let[e,a]of Object.entries(t))o(a,e)}(),s(),t.addEventListener("click",t=>{t.preventDefault();const e=function(){const t=new Date;return`${t.getDate()}.${t.getMonth()+1}.${t.getFullYear()} ${t.getHours()}:${t.getMinutes()}:${t.getSeconds()}`}(),a=function(t){const e=prompt("Введите сумму").replace(/\s/g,"");return e.match(/\d/g)?(localStorage.setItem(t,e.toString()),e):void alert("Введите число")}(e);a.match(/\d/g)&&(o(a,e),s(),location.reload())}),document.querySelectorAll(".salary__row").forEach(t=>{t.addEventListener("click",t=>{const e=t.target;e.classList.contains("salary__sum")&&e.closest(".salary__row").classList.toggle("salary__row_choosed"),r(n())})}),n(),e.addEventListener("click",t=>{t.preventDefault();let e=n();r(),alert(e),document.querySelectorAll(".salary__row").forEach(t=>t.classList.remove("salary__row_choosed"))});const l=document.querySelectorAll(".salary__row");l.forEach((t,e)=>{t.addEventListener("touchstart",t=>{if(t.target.classList.contains("btn-delete-salary")){const t=l[e].querySelector(".salary__date").textContent.toString();localStorage.removeItem(t),location.reload(),console.log(t)}})})});